<!DOCTYPE html>
<html lang="en-us">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="description" content="I am a beginner R User and Data Sciencist. I love learning about R, statistics, data science and applying all this knowledge.">

<base href="/">
<title>


     From Messy to Tidy: The Power of `tidyr::gather` 

</title>
<link rel="canonical" href="/blog/messy-tidy-tidyr-gather/">






<script type="text/javascript" src="/js/jquery-3.3.1.min.js"></script>


<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/nunito_sans.css">


    <link rel="stylesheet" href="css/light-style.css">






<link rel="shortcut icon" href="img/robot.ico">



<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-119602814-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>





</head>

<body>

<div class="section" id="top">

    <div class="container hero ">
    <h1 class="bold-title is-1">The Amateur Data Scientist</h1>
    </div>


<div class="section ">

    <div class="container">
    <hr>
<nav class="nav nav-center">
    <span id="nav-toggle" class="nav-toggle"  onclick="document.getElementById('nav-menu').classList.toggle('is-active');">
      <span></span>
      <span></span>
      <span></span>
    </span>
    <div id="nav-menu" class="nav-left nav-menu">
      <span class="nav-item">
        <a href="/">Main</a>
      </span>
      <span class="nav-item">
        <a href="/#about">About</a>
      </span>
      
      <span class="nav-item">
        <a href="/blog">Back to blog</a>
      </span>
      
      <span class="nav-item">
        <a href="/#contact">Contact</a>
      </span>
    
      <span class="nav-item">
        <a href="/index.xml"><i class="fa fa-rss"></i></a>
      </span>
    
    </div>
</nav>
<hr>

    </div>

    <div class="container ">
        <h2 class="title is-1 top-pad strong-post-title"><a href="/blog/messy-tidy-tidyr-gather/">From Messy to Tidy: The Power of `tidyr::gather`</a></h2>
            <div class="post-data">
                Oct 03, 2018 |
                3 minutes read
            </div>

            
                <div class="blog-share">
                Share this:
                
                <a class="twitter-share-button" href="https://twitter.com/intent/tweet?text=Read%20From%20Messy%20to%20Tidy%3a%20The%20Power%20of%20%60tidyr%3a%3agather%60%20%2fblog%2fmessy-tidy-tidyr-gather%2f"
                onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fa fa-twitter"></i>
                <span class="hidden">Twitter</span>
                </a>
                
                 
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=%2fblog%2fmessy-tidy-tidyr-gather%2f"
                onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                <i class="fa fa-facebook"></i>
                <span class="hidden">Facebook</span>
                </a>
                
                
                
                <a class="icon-google-plus" href="https://plus.google.com/share?url=%2fblog%2fmessy-tidy-tidyr-gather%2f"
                onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                <i class="fa fa-google-plus"></i>
                <span class="hidden">Google+</span>
                </a>
                
                </div>
            

    </div>

    <div class="container markdown  top-pad">
        <pre class="r"><code>library(knitr)
library(tidyverse)
library(magrittr)
library(janitor)
library(lubridate)

opts_chunk$set(
  message = FALSE,
  warning = FALSE,
  echo = TRUE
)</code></pre>
<div id="tidy-data-long-but-mahcine-readable" class="section level1">
<h1>Tidy Data: Long But Mahcine Readable</h1>
<p>Working with data made me concious of how we compile, store, and share data. Most of us work with spreadsheets and most of the time we encode our data in a way that makes it easy for other people to read our data. Unfortunately, human readable data format is not necessarily machine readable data. When we want work with data in code, human readable data is not usually the best form to begin with and to share with other people who wants to reproduce our work.</p>
<p><a href="http://vita.had.co.nz/papers/tidy-data.html">Hadley Wickhamâ€™s Tidy Data</a> gives the three vital properties of a tidy data:</p>
<ol style="list-style-type: decimal">
<li>Every column is a variable</li>
<li>Every row is an observation</li>
<li>Every observational unit forms a table</li>
</ol>
<p>I will discuss the properties 1 and 2 in this post via a real world data example.</p>
</div>
<div id="consumer-price-index-of-the-philippines" class="section level1">
<h1>Consumer Price Index of the Philippines</h1>
<p>The data I will use here is the consumer price index of the Philippines from 1994 Jan to 2018 Jun retrieved <a href="http://openstat.psa.gov.ph/dataset/prices-and-related-indices">here</a> on 2018 Sep 28.</p>
<pre class="r"><code>cpi_data_raw &lt;- 
  readr::read_csv(
    &quot;./data/CPI_2006=100_1994-2018_1_2.csv&quot;,
    trim_ws = TRUE
  )

head(cpi_data_raw) %&gt;% 
  print()</code></pre>
<pre><code>## # A tibble: 6 x 324
##   `Geographic cod~ `Geographic cod~ `Geographic Loc~ Code  Description
##              &lt;int&gt;            &lt;int&gt; &lt;chr&gt;            &lt;chr&gt; &lt;chr&gt;      
## 1                0                0 Philippines      0     All Items  
## 2                0                0 Philippines      01    Food And N~
## 3                0                0 Philippines      01.1  Food       
## 4                0                0 Philippines      01.1~ Bread And ~
## 5                0                0 Philippines      01.1~ Rice       
## 6                0                0 Philippines      01.1~ Corn       
## # ... with 319 more variables: Jan_94 &lt;chr&gt;, Feb_94 &lt;chr&gt;, Mar_94 &lt;chr&gt;,
## #   Apr_94 &lt;chr&gt;, May_94 &lt;chr&gt;, Jun_94 &lt;chr&gt;, Jul_94 &lt;chr&gt;, Aug_94 &lt;chr&gt;,
## #   Sep_94 &lt;chr&gt;, Oct_94 &lt;chr&gt;, Nov_94 &lt;chr&gt;, Dec_94 &lt;chr&gt;, Ave_94 &lt;chr&gt;,
## #   Jan_95 &lt;chr&gt;, Feb_95 &lt;chr&gt;, Mar_95 &lt;chr&gt;, Apr_95 &lt;chr&gt;, May_95 &lt;chr&gt;,
## #   Jun_95 &lt;chr&gt;, Jul_95 &lt;chr&gt;, Aug_95 &lt;chr&gt;, Sep_95 &lt;chr&gt;, Oct_95 &lt;chr&gt;,
## #   Nov_95 &lt;chr&gt;, Dec_95 &lt;chr&gt;, Ave_95 &lt;chr&gt;, Jan_96 &lt;chr&gt;, Feb_96 &lt;chr&gt;,
## #   Mar_96 &lt;chr&gt;, Apr_96 &lt;chr&gt;, May_96 &lt;chr&gt;, Jun_96 &lt;chr&gt;, Jul_96 &lt;chr&gt;,
## #   Aug_96 &lt;chr&gt;, Sep_96 &lt;chr&gt;, Oct_96 &lt;chr&gt;, Nov_96 &lt;chr&gt;, Dec_96 &lt;chr&gt;,
## #   Ave_96 &lt;chr&gt;, Jan_97 &lt;chr&gt;, Feb_97 &lt;chr&gt;, Mar_97 &lt;chr&gt;, Apr_97 &lt;chr&gt;,
## #   May_97 &lt;chr&gt;, Jun_97 &lt;chr&gt;, Jul_97 &lt;chr&gt;, Aug_97 &lt;chr&gt;, Sep_97 &lt;chr&gt;,
## #   Oct_97 &lt;chr&gt;, Nov_97 &lt;chr&gt;, Dec_97 &lt;chr&gt;, Ave_97 &lt;chr&gt;, Jan_98 &lt;chr&gt;,
## #   Feb_98 &lt;chr&gt;, Mar_98 &lt;chr&gt;, Apr_98 &lt;chr&gt;, May_98 &lt;chr&gt;, Jun_98 &lt;chr&gt;,
## #   Jul_98 &lt;chr&gt;, Aug_98 &lt;chr&gt;, Sep_98 &lt;chr&gt;, Oct_98 &lt;chr&gt;, Nov_98 &lt;chr&gt;,
## #   Dec_98 &lt;chr&gt;, Ave_98 &lt;chr&gt;, Jan_99 &lt;chr&gt;, Feb_99 &lt;chr&gt;, Mar_99 &lt;chr&gt;,
## #   Apr_99 &lt;chr&gt;, May_99 &lt;chr&gt;, Jun_99 &lt;chr&gt;, Jul_99 &lt;chr&gt;, Aug_99 &lt;chr&gt;,
## #   Sep_99 &lt;chr&gt;, Oct_99 &lt;chr&gt;, Nov_99 &lt;chr&gt;, Dec_99 &lt;chr&gt;, Ave_99 &lt;chr&gt;,
## #   Jan_00 &lt;chr&gt;, Feb_00 &lt;chr&gt;, Mar_00 &lt;chr&gt;, Apr_00 &lt;chr&gt;, May_00 &lt;chr&gt;,
## #   Jun_00 &lt;chr&gt;, Jul_00 &lt;chr&gt;, Aug_00 &lt;chr&gt;, Sep_00 &lt;chr&gt;, Oct_00 &lt;chr&gt;,
## #   Nov_00 &lt;chr&gt;, Dec_00 &lt;chr&gt;, Ave_00 &lt;chr&gt;, Jan_01 &lt;chr&gt;, Feb_01 &lt;chr&gt;,
## #   Mar_01 &lt;chr&gt;, Apr_01 &lt;chr&gt;, May_01 &lt;chr&gt;, Jun_01 &lt;chr&gt;, Jul_01 &lt;chr&gt;,
## #   Aug_01 &lt;chr&gt;, Sep_01 &lt;chr&gt;, ...</code></pre>
</div>

    </div>

    <div class="disqus">
        <div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "the-amateur-data-scientist" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>

<div class="container has-text-centered top-pad">
<hr>
<a href="/blog/messy-tidy-tidyr-gather/#top"><i class="fa fa-arrow-up"></i></a>
<hr>
</div>

<div class="section" id="footer">
    <div class="container has-text-centered">
        
        <span class="footer-text"><a href="https://github.com/hivickylai/hugo-theme-introduction" target="_blank" rel="noopener">Introduction</a> theme for <a href="http://gohugo.io/" target="_blank" rel="noopener">Hugo</a>. Made with <i class="fa fa-heart"></i> and <i class="fa fa-coffee"></i>. <a href="https://vickylai.io" target="_blank" rel="noopener">Vicky Lai</a> 2018</span>
        
    </div>
</div>

<script src="//https://amateurdatasci.rbind.io/js/math-code.js"></script>

    <script type="text/javascript"
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>

  </body>
</html>
</div>
</div>


<script>
$('a[href^="\/blog\/messy-tidy-tidyr-gather\/#"]').click(function(e) {
    e.preventDefault();
    var target = this.hash;
    $('html, body').animate({
    scrollTop: $(target).offset().top
    }, 500);
    return false;
})
</script>

</body>
